$(document).ready(startfn);
function startfn(){function r(m,e){$("svg").remove();d3.select(m).select(e).append("svg").attr({id:"svg1",preserveAspectRatio:"xMinYMin meet",viewBox:"0 0 1800 500"});d3.select(m).select(e).append("svg").attr({id:"svg2",preserveAspectRatio:"xMinYMin meet",viewBox:"0 0 1800 500"});g=d3.select("svg");f=parseFloat(g.style("height"));c=parseFloat(g.style("width"));d=f+200;h=1E3<=c?c-b.left-b.right+650:c-b.left-b.right+850;p();newBarData=[];a.forEach(function(a){newBarData.push(a)});newBarData.sort();
bars1=sort.output.drawBarDataForMergeSort(a,m,e,"#svg1",k,l,d,n);bars2=sort.output.drawSortedData(newBarData,m,e,"#svg2",k,l,d)}function q(){g=d3.select("svg");f=parseFloat(g.style("height"));c=parseFloat(g.style("width"));d=f+20;h=c-b.left-b.right;550<=f&&(d=f-b.top-b.bottom);1E3<=c&&(h=c-b.left-b.right-150);console.log(c);console.log(f);console.log(h);console.log(d)}function p(){n=d3.scale.linear().range(t).domain([0,.14*a.length,.28*a.length,.42*a.length,.56*a.length,.7*a.length,.84*a.length,a.length]);
l=d3.scale.linear().range([0,d]).domain([0,d3.max(a,function(a){return a})]);k=d3.scale.ordinal().rangeBands([0,h],.1,.3).domain(d3.range(0,a.length))}var e=50,t="#B58929 #C61C6F #9900ff #268BD2 #28ABE3 #85992C #208000 #006600".split(" ");effectsIndex=0;var k,l,n,f,c,d,h,b={top:30,right:0,bottom:40,left:0},a=sort.output.genData(e);ui.output.pageLoad("#viz","#speedbar","#progressbar");ui.output.drawSVG("#viz");var g=d3.select("svg");q();p();sort.output.drawBarData(a,"#viz","#mainSVG",k,l,d,n);$("#randomize").on("click",
function(){$("#slide").css("padding-top","90px");$("#slide").toggle("slide")});$("#gen").on("click",function(){0<$("#svg1").length?($("#svg1").remove(),$("#svg2").remove(),d3.select("#viz").select("#mainSVG").append("svg").attr({preserveAspectRatio:"xMinYMin meet",viewBox:"0 0 900 500"})):$("#bars").remove();e=+$("#barsInput").val();5E3<e?alert("Too many!"):($("#slide").toggle("slide"),a.length=0,a=sort.output.genData(e),q(),p(),sort.output.drawBarData(a,"#viz","#mainSVG",k,l,d,n))});$("#mergeSort").on("click",
function(){r("#viz","#mainSVG")})};
