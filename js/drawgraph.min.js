var draw=draw||{};
draw.output=function(){function q(){d3.event.sourceEvent.stopPropagation();g=!0;h=this;e=this;l=d3.mouse(e)}function r(){d3.event.sourceEvent.stopPropagation();m.attr("d","M"+l[0]+","+l[1]+"L"+d3.mouse(this)[0]+","+d3.mouse(this)[1]).classed("hidden",!1)}function t(){d3.event.sourceEvent.stopPropagation();g=!1;m.classed("hidden",!0)}function u(){if(e&&g&&(h=this,h!==e)){var a=h.id,c=parseInt(e.id.substr(1)),a=parseInt(a.substr(1)),b={};c<a?(b.from=c,b.to=a):(b.from=a,b.to=c);for(var n=b.weight=0;n<
f.length;n++){var d=f[n];if(c<a){if(d.from===c&&d.to===a)return}else if(d.from===a&&d.to===c)return}f.push(b);b=[];b.push(k[c]);b.push(k[a]);c=getThePoints(b);d3.select("#drawPanel").append("svg:path").attr("d","M"+c[0]+","+c[1]+"L"+c[2]+","+c[3]).attr("stroke","#000000").attr("stroke-width",3).attr("fill","none")}}function v(){e&&g&&d3.select(this).select("circle").attr("r",25)}function w(){e&&d3.select(this).select("circle").attr("r",20)}var p=[],k=[],f=[],m,g=!1,e=null,h=null,l=null;return{drawGraph:function(a,
c){var b,e,d,f;b=d3.select(c).append("div").classed("svg-container",!0).classed("col-md-8",!0).attr("id","mainSVG").append("svg").attr({preserveAspectRatio:"xMinYMin meet",viewBox:"0 0 900 500"}).classed("svg-content-responsive",!0);e=d3.select("#mainSVG").select("svg").append("g").attr("id","vertices").selectAll("circle").data(a.graphData[0]).enter().append("circle").attr({cx:function(a){return a.xVal},cy:function(a){return a.yVal},r:a.radius,id:function(a){return"vertex"+a.value}}).style({fill:"#FFFFFF",
stroke:"#C61C6F","stroke-width":2.5});d=d3.select("#mainSVG").select("svg").append("g").attr("id","texts").selectAll("text").data(a.graphData[0]).enter().append("text").attr({x:function(a){return 9>=a.value?a.xVal-5:a.xVal-10},y:function(a){return a.yVal+5.3333},id:function(a){return"text"+a.value},"font-weight":"bold","font-size":"1.15em"}).text(function(a){return a.value});var g=d3.svg.line().x(function(a){return a.xVal}).y(function(a){return a.yVal});f=d3.select("#mainSVG").select("svg").append("g").attr("id",
"edges");a.graphData[1].map(function(c){var b=[];b.push(a.graphData[0][c.from]);b.push(a.graphData[0][c.to]);var b=getThePoints(b),e=[],d={};d.xVal=b[0];d.yVal=b[1];e.push(d);d={};d.xVal=b[2];d.yVal=b[3];e.push(d);c=f.append("path").attr({d:g(e),stroke:"#000000","stroke-width":2,fill:"none",id:"edge"+c.from+""+c.to});b=c.node().getTotalLength();c.attr("stroke-dasharray",b+" "+b).attr("stroke-dashoffset",b).transition().duration(300).ease("linear").attr("stroke-dashoffset",0)});return[b,e,f,d]},removeGraph:function(a){a.remove()},
drawVertex:function(a,c){var b="g"+c,b=d3.select("#drawPanel").append("g").attr("id",b).classed("node",!0).call(d3.behavior.drag().on("dragstart",q).on("drag",r).on("dragend",t)).on("mouseup",u).on("mouseover",v).on("mouseout",w);b.append("circle").attr({cx:a[0],cy:a[1],r:20}).style({fill:"#FFFFFF",stroke:"#C61C6F","stroke-width":2.5}).classed("node",!0);b.append("text").attr({x:9>=c?a[0]-5:a[0]-10,y:a[1]+5.3333,"font-weight":"bold","font-size":"1.15em"}).classed("node",!0).text(c)},drawDragLine:function(){m=
d3.select("#drawPanel").append("svg:path").attr("class","link dragline hidden").attr("d","M0,0L0,0")},getDrawVertexData:function(){return k},setDrawVertexData:function(a){k=a},getDrawSampleGraph:function(){return p},setDrawSampleGraph:function(a){p=a},getDrawEdgeData:function(){return f},setDrawEdgeData:function(a){f=a}}}();
